[include tmc5160.cfg]
[include tmc2209.cfg]
[include mainsail.cfg]
[include tempsensors.cfg]
[include fans.cfg]
[include mcu.cfg]
[include THR.cfg]
[include beacon.cfg]
[include config_backup.cfg]
[include TEST_SPEED.cfg]
[include ztilt.cfg]
[include macros.cfg]
[include reshelper.cfg]
[include KAMP_Settings.cfg]
[include Line_Purge.cfg]

[exclude_object]

##========================== Pin Definitions ========================
## X
## Drive0_STEP_PIN         PE2
## Drive0_DIR_PIN          PC5
## Drive0_ENABLE_PIN       PF11
## Drive0_STOP_PIN         PG12 #IO0
## Drive0_UART_PIN         PC4

## Y
## Drive1_STEP_PIN         PE3
## Drive1_DIR_PIN          PF13
## Drive1_ENABLE_PIN       PF14
## Drive1_STOP_PIN         PG11 #IO1
## Drive1_UART_PIN         PF12

## E
## Drive2_STEP_PIN         PE4
## Drive2_DIR_PIN          PG0
## Drive2_ENABLE_PIN       PG1
## Drive2_STOP_PIN         PG10 #IO2
## Drive2_UART_PIN         PF15

## Z
## Drive3_STEP_PIN         PE14
## Drive3_DIR_PIN          PE8
## Drive3_ENABLE_PIN       PE9
## Drive3_STOP_PIN         PG9 #IO3
## Drive3_UART_PIN         PE7

## Z1
## Drive4_STEP_PIN         PE15
## Drive4_DIR_PIN          PE11
## Drive4_ENABLE_PIN       PF2
## Drive4_UART_PIN         PE10

## Z2
## Drive5_STEP_PIN         PE1
## Drive5_DIR_PIN          PF0
## Drive5_ENABLE_PIN       PC15
## Drive5_UART_PIN         PF1

## Z3
## Drive6_STEP_PIN         PE0
## Drive6_DIR_PIN          PG3
## Drive6_ENABLE_PIN       PG4
## Drive6_UART_PIN         PG2

## Drive7_STEP_PIN         PE6
## Drive7_DIR_PIN          PG6
## Drive7_ENABLE_PIN       PG7
## Drive7_UART_PIN         PG5

##   TMC SPI MODE
## TMC MOSI           PB4
## TMC MISO           PB5
## TMC SCK            PB3

## HEAT0              PB0
## HEAT1              PB1
## HEAT2              PC7
## HEAT3              PF7
## HEAT4              PF6

## BED                PE5

## TH0 (H0 Temp)      PF4    #ADC0
## TH1 (H1 Temp)      PF5    #ADC1
## TH2 (H2 Temp)      PF9    #ADC2
## TH3 (H3 Temp)      PF10   #ADC3
## TH4 (H4 Temp)      PC0    #ADC4
## TB  (Bed Temp)     PC1    #ADC5

## FAN0               PA0
## FAN1               PA1
## FAN2               PA2
## FAN3               PA3
## FAN4               PA15
## FAN5               PB11
## FAN6               PB10
## FAN7               PD12
## FAN8               PD14
## FAN9               PD15

## SERVO              PC6   #BLTOUCH
## PROBE			  PC3   #BLTOUCH


##########################################
# 5V # GND # PD0 # PD1 # PD3 # PD4 # PD5 #
##########################################



[printer]
kinematics: cartesian
max_velocity: 300  
max_accel: 20000
max_z_velocity: 15
max_z_accel: 350
square_corner_velocity: 5.0
#minimum_cruise_ratio: 1

[input_shaper]
shaper_freq_x: 84.6
shaper_type_x: mzv
shaper_freq_y: 84.6
shaper_type_y: mzv

########################################
# Drives
########################################

[stepper_x]
step_pin: PE0
dir_pin: PG3
enable_pin: !PG4
rotation_distance: 40
microsteps: 16
full_steps_per_rotation:200  #set to 400 for 0.9 degree stepper
endstop_pin: !PD6
position_endstop: 0
position_min: 0
position_max: 210
homing_retract_dist: 10.0
homing_speed: 35


[stepper_x1]
step_pin: PE1
dir_pin: !PF0
enable_pin: !PC15
rotation_distance: 40
microsteps: 16
full_steps_per_rotation:200  #set to 400 for 0.9 degree stepper

[stepper_y]
step_pin: PE15
dir_pin: PE11
enable_pin: !PF2
rotation_distance: 40
microsteps: 16
full_steps_per_rotation:200  #set to 400 for 0.9 degree stepper
endstop_pin: !PA8
position_endstop: 5
position_min: 5
position_max: 227
homing_retract_dist: 10.0
homing_speed: 35

[stepper_y1]
step_pin: PE14
dir_pin: PE8
enable_pin: !PE9
rotation_distance: 40
microsteps: 16
full_steps_per_rotation:200  #set to 400 for 0.9 degree stepper


[stepper_z]
step_pin: PE4
dir_pin: PG0
enable_pin: !PG1
microsteps: 128
rotation_distance: 40
gear_ratio: 4:1
full_steps_per_rotation: 200
#step_pulse_duration: 0.000004
endstop_pin: probe:z_virtual_endstop # use beacon as virtual endstop
homing_retract_dist: 0 # beacon needs this to be set to 0
position_min: -2
position_max: 185
homing_positive_dir: false
homing_speed: 40

[stepper_z1]
step_pin: PE3
dir_pin: PF13
enable_pin: !PF14
microsteps: 128
rotation_distance: 40
gear_ratio: 4:1
full_steps_per_rotation: 200


[stepper_z2]
step_pin: PE2
dir_pin: !PC5
enable_pin: !PF11
microsteps: 128
rotation_distance: 40
gear_ratio: 4:1
full_steps_per_rotation: 200


[heater_bed]
heater_pin: PB0
sensor_pin: PC0
sensor_type: Generic 3950
#control: watermark
min_temp: -50
max_temp: 200

[board_pins]
aliases:
    # EXP1 header
    EXP1_1=PE12, EXP1_3=PB2, EXP1_5=PC14, EXP1_7=PG14, EXP1_9=<GND>,
    EXP1_2=PE13, EXP1_4=PG8, EXP1_6=PC13, EXP1_8=PG13, EXP1_10=<5V>,
    # EXP2 header
    EXP2_1=PA6, EXP2_3=PB7, EXP2_5=PB6, EXP2_7=PG15,  EXP2_9=<GND>,
    EXP2_2=PA5, EXP2_4=PA4, EXP2_6=PA7, EXP2_8=<RST>, EXP2_10=<5V>

########################################
 #Mini 12864 LCD
########################################
#[display]
#lcd_type: uc1701
#cs_pin: EXP1_3
#a0_pin: EXP1_4
#rst_pin: EXP1_5
#contrast: 63
#encoder_pins: ^EXP2_5, ^!EXP2_3
#click_pin: ^!EXP1_2
#spi_bus: spi1

#####FLY Mini12864
#[neopixel fly_mini12864]
#pin: EXP1_6
#chain_count: 3
#initial_RED: 0.1
#initial_GREEN: 0.5
#initial_BLUE: 0.0
#color_order: RGB

#*# <---------------------- SAVE_CONFIG ---------------------->
#*# DO NOT EDIT THIS BLOCK OR BELOW. The contents are auto-generated.
#*#
#*# [heater_bed]
#*# control = pid
#*# pid_kp = 45.335
#*# pid_ki = 1.275
#*# pid_kd = 402.910
#*#
#*# [bed_mesh default]
#*# version = 1
#*# points =
#*# 	-0.476631, -0.472605, -0.476430, -0.478741, -0.468698, -0.464238, -0.451287, -0.445298, -0.439191, -0.421915, -0.412208, -0.400780, -0.391433, -0.377911, -0.372229, -0.371009, -0.362845, -0.353131, -0.354209, -0.354716, -0.356380, -0.352497, -0.361534, -0.361063, -0.350409, -0.347063, -0.355561, -0.336952, -0.315163, -0.293778
#*# 	-0.359968, -0.353747, -0.368109, -0.367967, -0.351265, -0.349317, -0.348442, -0.336336, -0.327108, -0.319320, -0.308807, -0.294681, -0.285105, -0.278829, -0.273905, -0.271397, -0.267269, -0.263331, -0.269541, -0.263911, -0.269919, -0.273462, -0.279834, -0.276121, -0.271648, -0.279288, -0.267665, -0.254995, -0.246464, -0.225742
#*# 	-0.324925, -0.329038, -0.313379, -0.316009, -0.316825, -0.300906, -0.293814, -0.291391, -0.280040, -0.263381, -0.260767, -0.246683, -0.236963, -0.238942, -0.227607, -0.225512, -0.228519, -0.221875, -0.220339, -0.233192, -0.236093, -0.229970, -0.242712, -0.248552, -0.235041, -0.231124, -0.257753, -0.226409, -0.213187, -0.200317
#*# 	-0.301011, -0.299757, -0.303075, -0.302553, -0.287835, -0.272956, -0.273469, -0.261692, -0.248628, -0.236262, -0.228496, -0.214182, -0.207381, -0.205308, -0.202123, -0.199069, -0.196157, -0.196684, -0.197587, -0.198344, -0.204569, -0.210377, -0.215568, -0.205023, -0.212352, -0.214412, -0.209457, -0.203605, -0.193831, -0.181545
#*# 	-0.285526, -0.287254, -0.275822, -0.276124, -0.266563, -0.253940, -0.247687, -0.229379, -0.220767, -0.214764, -0.192486, -0.180060, -0.182394, -0.180222, -0.164533, -0.174990, -0.181331, -0.163141, -0.171410, -0.187441, -0.175151, -0.179839, -0.197229, -0.186120, -0.184818, -0.185506, -0.201364, -0.183468, -0.174026, -0.168861
#*# 	-0.271882, -0.272869, -0.266507, -0.263984, -0.244719, -0.231779, -0.222323, -0.208450, -0.193343, -0.179657, -0.171867, -0.161348, -0.153889, -0.150482, -0.150945, -0.148356, -0.148347, -0.148522, -0.153073, -0.156800, -0.156727, -0.166409, -0.173676, -0.163859, -0.167928, -0.177110, -0.177091, -0.165141, -0.170227, -0.161157
#*# 	-0.260492, -0.257730, -0.248197, -0.232505, -0.222376, -0.212576, -0.189488, -0.172884, -0.172703, -0.159101, -0.131004, -0.131035, -0.136426, -0.113382, -0.119288, -0.132345, -0.119197, -0.121666, -0.134227, -0.130291, -0.138882, -0.141722, -0.147771, -0.149495, -0.156891, -0.153908, -0.158349, -0.164694, -0.154091, -0.154160
#*# 	-0.247125, -0.233101, -0.227083, -0.219087, -0.195526, -0.180373, -0.168352, -0.153163, -0.135739, -0.120583, -0.111573, -0.101138, -0.094996, -0.094256, -0.094660, -0.094230, -0.100491, -0.099060, -0.105139, -0.111588, -0.115543, -0.123789, -0.134351, -0.140448, -0.135805, -0.149435, -0.154182, -0.141730, -0.150023, -0.148713
#*# 	-0.233007, -0.224471, -0.202168, -0.184818, -0.176257, -0.153211, -0.122258, -0.119853, -0.111197, -0.080890, -0.074110, -0.076850, -0.053754, -0.059532, -0.069175, -0.057861, -0.070351, -0.077291, -0.067687, -0.077966, -0.100651, -0.096264, -0.105823, -0.131789, -0.119539, -0.124751, -0.146374, -0.143635, -0.137521, -0.145680
#*# 	-0.220112, -0.196114, -0.189526, -0.172595, -0.149675, -0.125447, -0.110218, -0.094001, -0.073890, -0.057029, -0.047607, -0.037288, -0.029356, -0.028400, -0.034118, -0.035583, -0.034274, -0.045218, -0.050669, -0.054893, -0.070612, -0.080035, -0.092854, -0.101416, -0.106032, -0.120992, -0.126653, -0.133807, -0.134746, -0.137476
#*# 	-0.211229, -0.196389, -0.160047, -0.157608, -0.134273, -0.098058, -0.082802, -0.074380, -0.040125, -0.030453, -0.027476, 0.003328, -0.005275, -0.013766, 0.009976, -0.009767, -0.027998, -0.014774, -0.015893, -0.049240, -0.048022, -0.051706, -0.084709, -0.095014, -0.085223, -0.096755, -0.138723, -0.118175, -0.123555, -0.129585
#*# 	-0.204378, -0.177057, -0.165062, -0.143758, -0.111176, -0.087686, -0.069836, -0.043858, -0.027783, -0.011556, 0.010188, 0.015611, 0.015198, 0.026567, 0.018151, 0.008411, 0.009120, 0.004990, -0.009733, -0.017651, -0.026575, -0.046300, -0.061025, -0.065575, -0.086889, -0.102723, -0.112915, -0.126841, -0.135560, -0.138386
#*# 	-0.206510, -0.174900, -0.149784, -0.137716, -0.095349, -0.076225, -0.064717, -0.015793, -0.007755, -0.003570, 0.043816, 0.035393, 0.019826, 0.041634, 0.053259, 0.014865, 0.022707, 0.033119, -0.004624, -0.010719, -0.010088, -0.033118, -0.065768, -0.060137, -0.079173, -0.099073, -0.109030, -0.131756, -0.136814, -0.147792
#*# 	-0.211442, -0.180069, -0.150160, -0.145256, -0.099116, -0.064573, -0.055758, -0.024295, 0.011269, 0.015041, 0.037468, 0.059332, 0.053570, 0.043407, 0.057671, 0.045201, 0.028696, 0.035969, 0.014801, -0.002742, -0.014804, -0.031608, -0.052695, -0.066473, -0.079017, -0.109540, -0.128562, -0.134657, -0.158213, -0.168129
#*# 	-0.218450, -0.185950, -0.165707, -0.118836, -0.096666, -0.077702, -0.016732, -0.010176, -0.002031, 0.035412, 0.071838, 0.041936, 0.064610, 0.087851, 0.046483, 0.055531, 0.064418, 0.040656, 0.010677, 0.019647, -0.008242, -0.032143, -0.038885, -0.070203, -0.091367, -0.104842, -0.139620, -0.158642, -0.164812, -0.181647
#*# 	-0.209726, -0.184803, -0.147916, -0.114236, -0.094964, -0.054353, -0.019013, -0.009658, 0.028437, 0.060954, 0.053689, 0.076755, 0.091219, 0.070141, 0.076615, 0.078784, 0.061414, 0.044336, 0.039377, 0.020661, -0.004581, -0.018855, -0.042882, -0.065021, -0.079495, -0.111183, -0.135349, -0.151502, -0.173981, -0.190772
#*# 	-0.222707, -0.194412, -0.130445, -0.115146, -0.091284, -0.029558, 0.006708, -0.000997, 0.041835, 0.085148, 0.062033, 0.091613, 0.115416, 0.076856, 0.075645, 0.102621, 0.076084, 0.053809, 0.062263, 0.029097, 0.002400, 0.003862, -0.035459, -0.067876, -0.069373, -0.099188, -0.151553, -0.154563, -0.172438, -0.199727
#*# 	-0.235629, -0.181817, -0.161647, -0.100227, -0.072696, -0.045478, -0.005683, 0.036309, 0.043989, 0.078710, 0.109612, 0.094042, 0.112483, 0.125166, 0.095770, 0.103212, 0.105613, 0.072896, 0.058514, 0.061994, 0.030994, 0.000066, -0.018262, -0.041986, -0.074779, -0.102021, -0.127627, -0.155118, -0.179348, -0.196963
#*# 	-0.224886, -0.169479, -0.135984, -0.113243, -0.065210, -0.005736, -0.011471, 0.039791, 0.087915, 0.070098, 0.110288, 0.143711, 0.124173, 0.100975, 0.144876, 0.113636, 0.083658, 0.111969, 0.072666, 0.034167, 0.046458, 0.012216, -0.033435, -0.045121, -0.061889, -0.103952, -0.136166, -0.153321, -0.182556, -0.199438
#*# 	-0.231982, -0.170312, -0.139899, -0.117322, -0.045225, -0.018637, -0.001494, 0.061135, 0.076380, 0.082248, 0.116668, 0.145123, 0.116347, 0.133124, 0.143895, 0.107711, 0.112884, 0.112304, 0.071564, 0.063572, 0.049454, 0.014297, -0.014053, -0.026115, -0.064535, -0.099490, -0.129526, -0.156049, -0.186474, -0.207704
#*# 	-0.219241, -0.159535, -0.143357, -0.088511, -0.032224, -0.031191, 0.026837, 0.081774, 0.086678, 0.082239, 0.157882, 0.138734, 0.110878, 0.173617, 0.137485, 0.099165, 0.147489, 0.105665, 0.061033, 0.091811, 0.065266, 0.002361, -0.017500, -0.038013, -0.079405, -0.095495, -0.129869, -0.167588, -0.192827, -0.206531
#*# 	-0.224138, -0.170670, -0.117213, -0.107415, -0.053453, 0.019162, 0.031688, 0.037881, 0.119803, 0.116971, 0.092983, 0.168009, 0.167666, 0.101756, 0.130517, 0.156075, 0.089281, 0.106077, 0.107190, 0.051355, 0.046015, 0.037061, -0.021954, -0.034972, -0.056761, -0.107562, -0.148391, -0.196655, -0.196119, -0.218317
#*# 	-0.229952, -0.190200, -0.153060, -0.121600, -0.077403, -0.040435, -0.006956, 0.026120, 0.058079, 0.091485, 0.105360, 0.104404, 0.146062, 0.125012, 0.100387, 0.139151, 0.135340, 0.070129, 0.079357, 0.079945, -0.009553, 0.003114, 0.009670, -0.089397, -0.110269, -0.086253, -0.147695, -0.195676, -0.183886, -0.239237
#*# 	-0.204410, -0.177337, -0.135684, -0.082205, -0.071443, -0.014705, 0.030137, 0.042423, 0.046245, 0.120409, 0.104927, 0.093822, 0.149820, 0.126420, 0.105385, 0.121621, 0.127707, 0.088966, 0.082757, 0.068090, 0.033257, 0.015368, -0.011036, -0.039651, -0.068843, -0.102835, -0.131398, -0.167284, -0.194851, -0.229078
#*# 	-0.229180, -0.189558, -0.126367, -0.113582, -0.090204, -0.010866, -0.002568, 0.000960, 0.081395, 0.076335, 0.058910, 0.133962, 0.106638, 0.074464, 0.103617, 0.128256, 0.062728, 0.080820, 0.085569, 0.026752, 0.025258, 0.015585, -0.024322, -0.063719, -0.073060, -0.112707, -0.166273, -0.168807, -0.213509, -0.223857
#*# 	-0.256639, -0.195119, -0.174678, -0.132042, -0.078755, -0.064754, -0.025198, 0.018704, 0.018678, 0.038228, 0.081713, 0.075678, 0.061941, 0.098177, 0.074317, 0.041999, 0.077522, 0.040915, 0.008452, 0.008745, 0.005069, -0.049323, -0.063582, -0.074471, -0.119231, -0.138851, -0.160486, -0.198275, -0.225042, -0.247102
#*# 	-0.265833, -0.213098, -0.185528, -0.164503, -0.104688, -0.084641, -0.078202, -0.009100, -0.004632, -0.014678, 0.025561, 0.063982, 0.010764, 0.042701, 0.066765, 0.008701, 0.026070, 0.036239, -0.013736, -0.030812, -0.023370, -0.054808, -0.092546, -0.098584, -0.130894, -0.155040, -0.177772, -0.219046, -0.241538, -0.260219
#*# 	-0.271880, -0.240655, -0.202175, -0.213373, -0.159523, -0.105889, -0.116625, -0.069054, -0.024604, -0.037952, -0.014355, 0.014944, -0.003588, -0.026142, 0.015367, -0.013295, -0.044720, -0.015045, -0.046706, -0.078567, -0.060817, -0.102148, -0.136527, -0.145534, -0.160463, -0.196491, -0.209225, -0.236370, -0.262179, -0.281626
#*# 	-0.281589, -0.245397, -0.213670, -0.185994, -0.155187, -0.123712, -0.096315, -0.074269, -0.049045, -0.032061, -0.025189, -0.024615, -0.017764, -0.011671, -0.027763, -0.027729, -0.030561, -0.043734, -0.062357, -0.069621, -0.091637, -0.113771, -0.129124, -0.157817, -0.178553, -0.193129, -0.220314, -0.253695, -0.268719, -0.295180
#*# 	-0.291451, -0.252210, -0.237747, -0.207721, -0.171541, -0.151604, -0.129534, -0.106027, -0.081339, -0.071706, -0.061713, -0.056788, -0.057306, -0.052112, -0.057179, -0.063968, -0.069982, -0.076550, -0.092947, -0.105030, -0.119258, -0.136659, -0.156293, -0.179059, -0.195175, -0.217132, -0.237390, -0.262757, -0.280824, -0.297581
#*# x_count = 30
#*# y_count = 30
#*# mesh_x_pps = 1
#*# mesh_y_pps = 1
#*# algo = bicubic
#*# tension = 0.2
#*# min_x = 0.0
#*# max_x = 180.0
#*# min_y = 55.0
#*# max_y = 227.0
